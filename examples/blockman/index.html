<html>
  <head>
    <meta charset="utf-8"/>
    <title>BlocksJS</title>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script data-main="/src/main.js" src="/src/libs/require.js"></script>
    <script type="text/javascript" src="/src/libs/three.min.js"></script> 
    <script type="text/javascript" src="/src/libs/underscore-min.js"></script> 
  </head>
  <body>
  <script type="text/javascript">
  	$(function(){
	  	var renderer = new THREE.WebGLRenderer();
	    renderer.setSize(window.innerWidth, window.innerHeight);
	    document.body.appendChild(renderer.domElement);

	    // camera 
	    var camera = new THREE.PerspectiveCamera(95, window.innerWidth / window.innerHeight, 1, 1000); 
	    camera.position.y = -250; 
	    camera.position.z = 400; 
	    camera.rotation.x = 45 * (Math.PI / 180); 

	    // scene 
	    var scene = new THREE.Scene();
	    scene.add(camera); //ADDED

	    THREE.ImageUtils.loadTexture('images/Voxel_amanita.png', void 0, after); 
	    var img, plane; 
	    
	    function after(texture){
	    	img = new THREE.MeshBasicMaterial({ //CHANGED to MeshBasicMaterial
		        map: texture, 
		        transparent: true, 
		    });

		    // plane
		    plane = new THREE.Mesh(new THREE.PlaneGeometry(200, 200),img);
		    scene.add(plane);

		     // add subtle ambient lighting
		    var ambientLight = new THREE.AmbientLight(0x555555);
		    scene.add(ambientLight);

		    // add directional light source
		    var directionalLight = new THREE.DirectionalLight(0xffffff);
		    directionalLight.position.set(1, 1, 1).normalize();
		    scene.add(directionalLight);

		    // create wrapper object that contains three.js objects
		    var three = {
		        renderer: renderer,
		        camera: camera,
		        scene: scene,
		        plane: plane
		    };
		    renderer.render(scene,camera);
	    }	
	    //window.requestAnimationFrame(render);

	    var move = _.throttle(function(ev){
	    	//console.log(img); 
	    	plane.position.setX(ev.pageX); 
	    	plane.position.setY(ev.pageY); 
	    	renderer.render(scene,camera);
	    }, 16) 
	    $(document).on('mousemove', move); 
	  }); 
  </script>
  </body>	
</html>